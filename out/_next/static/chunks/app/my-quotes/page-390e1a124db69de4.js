(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[569],{2849:function(e,t,l){Promise.resolve().then(l.bind(l,1806))},1806:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return i}});var n=l(7437),s=l(2265),o=l(7911);function i(){let{isAuthenticated:e,userProfile:t,myQuotes:l,fetchMyQuotes:i,isLoading:a}=s.useContext(o.I);return((0,s.useEffect)(()=>{e&&(null==t?void 0:t.id)&&(null==t?void 0:t.role)==="provider"&&!a&&i()},[e,null==t?void 0:t.id,null==t?void 0:t.role,i,a]),a)?(0,n.jsx)("div",{className:"flex items-center justify-center min-h-[calc(100vh-100px)]",children:(0,n.jsx)("div",{className:"text-xl font-semibold text-gray-700",children:"Loading your quotes..."})}):e&&(null==t?void 0:t.role)==="provider"?(0,n.jsxs)("section",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[(0,n.jsxs)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:["My Submitted Quotes (",l.length,")"]}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.length>0?l.map(e=>{var t;return(0,n.jsxs)("div",{className:"p-4 bg-gray-50 rounded-md border border-gray-200 shadow-sm",children:[(0,n.jsxs)("h4",{className:"text-lg font-medium text-gray-800 mb-1",children:["Quote for: ",e.problem_title]}),(0,n.jsxs)("p",{className:"text-gray-600 text-sm mb-2",children:["Amount: R",null===(t=e.amount)||void 0===t?void 0:t.toFixed(2)]}),(0,n.jsxs)("p",{className:"text-gray-500 text-xs",children:["Status: ",e.status]})]},e.id)}):(0,n.jsx)("p",{className:"text-gray-600",children:"You haven't submitted any quotes yet."})})]}):(0,n.jsxs)("section",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Access Denied"}),(0,n.jsx)("p",{className:"text-gray-700",children:"You must be logged in as a provider to view your quotes."})]})}},7911:function(e,t,l){"use strict";l.d(t,{I:function(){return a},w:function(){return r}});var n=l(7437),s=l(2265),o=l(2394),i=l(7856);let a=(0,s.createContext)(null),r=e=>{let{children:t}=e,l=(0,i.A)(),{isAuthenticated:r,user:u,isLoading:c}=(0,o.a)(),[d,g]=(0,s.useState)(null),[m,v]=(0,s.useState)([]),[f,x]=(0,s.useState)([]),[b,h]=(0,s.useState)(null),[y,p]=(0,s.useState)(!0),[N,j]=(0,s.useState)([]),[k,C]=(0,s.useState)([]),_=(0,s.useCallback)(async()=>{},[]),S=(0,s.useCallback)(async()=>{},[]),E=(0,s.useCallback)(async()=>{},[]),L=(0,s.useCallback)(async()=>{},[r,u]),w=(0,s.useCallback)(async()=>{},[r,null==b?void 0:b.id]),A=(0,s.useCallback)(async()=>{},[r,null==b?void 0:b.id,null==b?void 0:b.role]);(0,s.useEffect)(()=>{(async()=>{p(!0),await Promise.all([_(),S(),E()]),p(!1)})()},[_,S,E]),(0,s.useEffect)(()=>{r?L():(h(null),j([]),C([]))},[r,L]),(0,s.useEffect)(()=>{(null==b?void 0:b.id)&&r&&(w(),A())},[null==b?void 0:b.id,r,w,A]);let I={branding:d,pricingPlans:m,publicProblems:f,userProfile:b,myRequests:N,myQuotes:k,fetchMyRequests:w,fetchPublicProblems:E,fetchMyQuotes:A,isAuthenticated:r,user:u,isLoading:c||y,login:(null==l?void 0:l.login)||(()=>console.log("Login not available")),logout:(null==l?void 0:l.logout)||(()=>console.log("Logout not available"))};return(0,n.jsx)(a.Provider,{value:I,children:t})}},7856:function(e,t,l){"use strict";l.d(t,{A:function(){return o}});var n=l(9831);let s=null;function o(){if(!s){let e="39e32132-4994-4c0c-90db-05150db4054e",t="pck_vzrmv65na39bvj84erejggxshygga2vxrvtkj1n1cfg5g";if(!e||!t)return console.error("Stack Auth environment variables (NEXT_PUBLIC_STACK_PROJECT_ID or NEXT_PUBLIC_STACK_PUBLISHABLE_CLIENT_KEY) are not set. Please ensure they are configured in your Netlify Environment Variables AND your local .env file. Skipping StackClientApp initialization on client due to missing keys."),{login:()=>console.log("Login not configured, missing keys."),logout:()=>console.log("Logout not configured, missing keys.")};s=new n.f({projectId:e,publishableClientKey:t})}return s}}},function(e){e.O(0,[347,971,117,744],function(){return e(e.s=2849)}),_N_E=e.O()}]);